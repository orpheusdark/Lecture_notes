# Question No: 5

## Problem Statement

A financial management application needs to manage accounts and their transactions. You are tasked with writing queries to create and manipulate these tables. Assume that the current date is `'2024-01-01'`.
<img width="264" height="133" alt="2928479619-1" src="https://github.com/user-attachments/assets/dbceeba4-4f29-4636-b2ac-cd7860aabd9a" />
<img width="274" height="192" alt="2928479619-2" src="https://github.com/user-attachments/assets/47b68755-d8ba-4f6f-a96e-78eed0a7e272" />
<img width="514" height="215" alt="2928479619-3" src="https://github.com/user-attachments/assets/979c9657-31ad-4da9-8016-91d41c8bac7e" />
<img width="265" height="146" alt="2928479619-4" src="https://github.com/user-attachments/assets/86dbc1c6-d8aa-4efc-881a-7bdb9d1dea27" />




### Tasks

1. Insert the provided records into the `Transactions` and `Accounts` tables.
2. Select all the records from the `Transactions` and `Accounts` tables.
3. Delete transactions where `TransactionDate` is older than `'2023-01-01'` AND `Amount` is greater than $200 OR `TransactionType` is `'Transfer'`.
4. Select transactions where the `Amount` is greater than $1000 AND `TransactionDate` is within the last 10 days AND `AccountID` is not 501.
5. Update the `Balance` of accounts where `AccountID` is 103 by increasing it by $1000.

## SQL Answer

```sql
-- Inserting records into Accounts table
INSERT INTO Accounts (AccountID, AccountHolder, Balance) 
VALUES (101, 'John Doe', 1500);

INSERT INTO Accounts (AccountID, AccountHolder, Balance) 
VALUES (102, 'Jane Smith', 2500);

INSERT INTO Accounts (AccountID, AccountHolder, Balance) 
VALUES (103, 'Jim Brown', 750);

INSERT INTO Accounts (AccountID, AccountHolder, Balance) 
VALUES (104, 'Jake Blues', 500);

INSERT INTO Accounts (AccountID, AccountHolder, Balance) 
VALUES (105, 'Jill Green', 1000);

-- Inserting records into Transactions table
INSERT INTO Transactions (TransactionID, AccountID, TransactionDate, Amount, TransactionType) 
VALUES (201, 101, TO_DATE('2023-07-01', 'YYYY-MM-DD'), 600, 'Deposit');

INSERT INTO Transactions (TransactionID, AccountID, TransactionDate, Amount, TransactionType) 
VALUES (202, 102, TO_DATE('2023-06-15', 'YYYY-MM-DD'), 800, 'Withdrawal');

INSERT INTO Transactions (TransactionID, AccountID, TransactionDate, Amount, TransactionType) 
VALUES (203, 103, TO_DATE('2023-05-10', 'YYYY-MM-DD'), 1200, 'Transfer');

INSERT INTO Transactions (TransactionID, AccountID, TransactionDate, Amount, TransactionType) 
VALUES (204, 104, TO_DATE('2023-04-20', 'YYYY-MM-DD'), 150, 'Deposit');

INSERT INTO Transactions (TransactionID, AccountID, TransactionDate, Amount, TransactionType) 
VALUES (205, 105, TO_DATE('2023-03-15', 'YYYY-MM-DD'), 500, 'Withdrawal');

INSERT INTO Transactions (TransactionID, AccountID, TransactionDate, Amount, TransactionType) 
VALUES (206, 104, TO_DATE('2023-02-10', 'YYYY-MM-DD'), 450, 'Transfer');

INSERT INTO Transactions (TransactionID, AccountID, TransactionDate, Amount, TransactionType) 
VALUES (207, 105, TO_DATE('2023-01-25', 'YYYY-MM-DD'), 300, 'Deposit');

-- Select all records from Transactions and Accounts
SELECT * FROM Transactions;
SELECT * FROM Accounts;

-- Delete transactions
DELETE FROM Transactions
WHERE TransactionDate < TO_DATE('2023-01-01', 'YYYY-MM-DD')
  AND Amount > 200
  OR TransactionType = 'Transfer';

-- Select transactions with specific conditions
SELECT *
FROM Transactions
WHERE Amount > 1000
  AND TransactionDate >= TO_DATE('2024-01-01', 'YYYY-MM-DD') - 10
  AND AccountID != 501;

-- Update account balance
UPDATE Accounts
SET Balance = Balance + 1000
WHERE AccountID = 103;
