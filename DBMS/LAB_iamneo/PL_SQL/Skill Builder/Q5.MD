SET SERVEROUTPUT ON;

DECLARE
  v_n NUMBER;
  v_first NUMBER;
  v_second NUMBER;
  v_next NUMBER;
BEGIN
  FOR rec IN (SELECT n FROM fibonacci) LOOP
    v_n := rec.n;
    
    v_first := 0;
    v_second := 1;
    
    DBMS_OUTPUT.PUT_LINE('Fibonacci sequence up to ' || v_n || ' terms:');
    
    IF v_n >= 1 THEN
      DBMS_OUTPUT.PUT(v_first || ' ');
    END IF;
    
    IF v_n >= 2 THEN
      DBMS_OUTPUT.PUT(v_second || ' ');
    END IF;
    
    FOR i IN 3..v_n LOOP
      v_next := v_first + v_second;
      DBMS_OUTPUT.PUT(v_next || ' ');
      v_first := v_second;
      v_second := v_next;
    END LOOP;
    
    DBMS_OUTPUT.NEW_LINE;
  END LOOP;
END;
/
